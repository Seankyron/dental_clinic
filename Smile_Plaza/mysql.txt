CREATE TABLE User (
    id INT PRIMARY KEY,
    FName VARCHAR(30) NOT NULL,
    MidName VARCHAR(30),
    LName VARCHAR(30) NOT NULL,
    gender VARCHAR(10) NOT NULL,
    birthday VARCHAR(8) NOT NULL,
    age INT NOT NULL,
    contact VARCHAR(30) UNIQUE NOT NULL,
    address VARCHAR(100) NOT NULL,
    username VARCHAR(20) UNIQUE NOT NULL,
    email VARCHAR(120) UNIQUE NOT NULL,
    image_file VARCHAR(20) NOT NULL DEFAULT 'default.jpg',
    password VARCHAR(60) NOT NULL
);

CREATE TABLE Post (

    id INT PRIMARY KEY,
    title VARCHAR(100) NOT NULL,
    date_posted DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    content TEXT NOT NULL,
    user_id INT,
    FOREIGN KEY (user_id) REFERENCES User(id)
);

CREATE TABLE Appointment (
    id INT PRIMARY KEY,
    date DATE NOT NULL,
    time TIME NOT NULL,
    service VARCHAR(50) NOT NULL,
    status VARCHAR(50) NOT NULL DEFAULT 'PENDING',
    user_id INT,
    user_name VARCHAR(20),
    user_email VARCHAR(120),
    user_contact VARCHAR(30),
    FOREIGN KEY (user_id) REFERENCES User(id),
    FOREIGN KEY (user_name) REFERENCES User(username),
    FOREIGN KEY (user_email) REFERENCES User(email),
    FOREIGN KEY (user_contact) REFERENCES User(contact),
    CONSTRAINT unique_date_time UNIQUE (date, time)
);

